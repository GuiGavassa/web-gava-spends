<div class="carteira-container">
    <h1>ğŸ’¼ Minha Carteira</h1>
    
    <!-- Resumo Financeiro -->
    <div class="resumo-financeiro">
      <div class="resumo-item">
        <span class="resumo-label">Limite Total (CrÃ©dito):</span>
        <span class="resumo-valor credito">R$ {{ totalLimiteCredito | number:'1.2-2' }}</span>
      </div>
      <div class="resumo-item destaque">
        <span class="resumo-label">Saldo Total (Contas):</span>
        <span class="resumo-valor saldo">R$ {{ totalSaldoContas | number:'1.2-2' }}</span>
      </div>
    </div>

    <!-- Container para as duas seÃ§Ãµes lado a lado -->
    <div class="secoes-container">
      <!-- SeÃ§Ã£o: CartÃµes de CrÃ©dito -->
      <div class="secao-pagamentos">
      <h2>ğŸ’³ CartÃµes de CrÃ©dito</h2>
      <p class="secao-descricao">CartÃµes onde vocÃª paga a fatura mensalmente</p>
      
      <button (click)="abrirModalAdicionarCredito()" class="btn-adicionar-novo">
        <i class="fas fa-plus"></i> Adicionar CartÃ£o
      </button>

      <div class="lista-itens">
        <div *ngFor="let cartao of cartoesCredito" class="item" [style.border-left]="'4px solid ' + (cartao.cor || '#3498db')">
          <div class="item-visualizar">
            <div class="item-cor-indicator" [style.background-color]="cartao.cor || '#3498db'"></div>
            <div class="item-info">
              <span class="item-nome">{{ cartao.nome }}</span>
              <span class="item-tipo">CrÃ©dito</span>
              <span class="item-valor">Limite: R$ {{ cartao.limite | number:'1.2-2' }}</span>
            </div>
            <div class="item-acoes">
                <button (click)="editarCartaoCredito(cartao)" class="btn-editar" title="Editar">
                  <i class="fas fa-edit"></i>
                </button>
                <button (click)="removerCartaoCredito(cartao.id)" class="btn-remover" title="Remover">
                  <i class="fas fa-trash"></i>
                </button>
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="cartoesCredito.length === 0" class="lista-vazia">
        Nenhum cartÃ£o de crÃ©dito cadastrado.
      </div>
    </div>

    <!-- SeÃ§Ã£o: Contas e CartÃµes de DÃ©bito -->
    <div class="secao-pagamentos">
      <h2>ğŸ¦ Contas BancÃ¡rias / DÃ©bito</h2>
      <p class="secao-descricao">Contas correntes, poupanÃ§a ou cartÃµes de dÃ©bito</p>
      
      <button (click)="abrirModalAdicionarDebito()" class="btn-adicionar-novo">
        <i class="fas fa-plus"></i> Adicionar Conta
      </button>

      <div class="lista-itens">
        <div *ngFor="let conta of contasDebito" class="item" [style.border-left]="'4px solid ' + (conta.cor || '#27ae60')">
          <div class="item-visualizar">
            <div class="item-cor-indicator" [style.background-color]="conta.cor || '#27ae60'"></div>
            <div class="item-info">
              <span class="item-nome">{{ conta.nome }}</span>
              <span class="item-tipo">{{ conta.tipo === 'debito' ? 'DÃ©bito' : 'Conta Corrente' }}</span>
            </div>
            <span class="item-valor">Saldo: R$ {{ conta.saldo | number:'1.2-2' }}</span>
            <div class="item-acoes">
              <button (click)="editarContaDebito(conta)" class="btn-editar" title="Editar">
                <i class="fas fa-edit"></i>
              </button>
              <button (click)="removerContaDebito(conta.id)" class="btn-remover" title="Remover">
                <i class="fas fa-trash"></i>
              </button>
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="contasDebito.length === 0" class="lista-vazia">
        Nenhuma conta ou cartÃ£o de dÃ©bito cadastrado.
      </div>
    </div>
    </div>

    <!-- Modal de EdiÃ§Ã£o -->
    <app-modal-editar-meio-pagamento
      [aberto]="modalEdicaoAberto"
      [item]="itemEmEdicao"
      [tipo]="tipoItemEdicao"
      (fechar)="fecharModalEdicao()"
      (salvar)="tipoItemEdicao === 'credito' ? salvarCartaoCredito($event) : salvarContaDebito($event)"
    ></app-modal-editar-meio-pagamento>

    <!-- Modal de AdiÃ§Ã£o -->
    <app-modal-adicionar-meio-pagamento
      [aberto]="modalAdicaoAberto"
      [tipo]="tipoAdicao"
      (fechar)="fecharModalAdicao()"
      (adicionar)="tipoAdicao === 'credito' ? adicionarCartaoCredito($event) : adicionarContaDebito($event)"
    ></app-modal-adicionar-meio-pagamento>
</div>
